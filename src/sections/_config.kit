<section class="container section-configure">
  <form>
    <div class="row center">
      <div class="col-xs-12">
        <h1>Configure</h1>
        <p>Create an XY enabled contract manager</p>
      </div>
    </div>
    <div class="row center">
      <div class="col-xs-offset-3 col-xs-6">
        <span class="error-message"></span>
      </div>
    </div>
    <div class="row center">
      <div class="col-xs-6 right">
        <button class="initialize-uncalibrated-button" type="button">Initialize Uncalibrated Contract</button>
      </div>
      <div class="col-xs-6 right">
        <button class="initialize-calibrated-button" type="button">Initialize Calibrated Contract</button>
      </div>
      <div class="col-xs-6 right">
        <button class="initialize-relative-button" type="button">Initialize Relative Contract</button>
      </div>
      <div class="col-xs-6 left">
        <button class="clear-button" type="button">Clear Config</button>
      </div>
    </div>
  </form>
</section>

<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var section = $(".section-configure");
    section.find(".initialize-uncalibrated-button").click(function() {
      var section = $(".section-configure");
      var client = new XYO.CLIENT();
      client.initializeUncalibratedContract(null, function(error, address) {
        alert("XY Uncalibrated Contract Initialized at: " + address);
      });
    });
    section.find(".initialize-calibrated-button").click(function() {
      var section = $(".section-configure");
      var client = new XYO.CLIENT();
      client.initializeCalibratedContract(null, function(error, address) {
        alert("XY Calibrated Contract Initialized at: " + address);
      });
    });
    section.find(".initialize-relative-button").click(function() {
      var section = $(".section-configure");
      var client = new XYO.CLIENT();
      client.initializeRelativeContract(null, function(error, address) {
        alert("XY Relative Contract Initialized at: " + address);
      });
    });
    section.find(".clear-button").click(function() {
      var section = $(".section-configure");
      try {
        var client = new XYO.CLIENT();
        client.config.clear();
        alert("Config Cleared");
      } catch (ex) {
        $(".error-message").text(ex.message);
        console.error(ex);
      }
    });
    $(".section-send input").change(function() {
      if ($(this).val() === "") {
        $(this).removeClass("filled");
      } else {
        $(this).addClass("filled");
      }
    });
  });
</script>
